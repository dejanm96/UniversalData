<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <title>Abrechnung</title>
  <!-- Bootstrap CSS 4.3.1 -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- Axios -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <!-- VueJS -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  
  <style>
  tr:nth-child(even) {
    background-color: #dddddd;
}
  </style>	
  
</head>

<body>
  <div class="container mt-4" id="Abrechnung">

	 
<ul id="Abrechnung">
  <li v-for="artikel, index in artikelListe">
  <form>  
  <label for="fname">{{ artikel.Artikel }}</label>
  <input type="text" id="flaschen" name="flaschen">
  <input type="text" id="einheiten" name="einheiten">
  <button type="submit">Submit</button>
  </form>
  </li>
</ul>
 	 	

  </div>
<input id="clickMe" type="button" value="clickme" onclick="doFunction();" />
  
  
<script>
function handleSubmit(event) {
  event.preventDefault();

  const data = new FormData(event.target);

  const value = Object.fromEntries(data.entries());

  console.log({ value });
  }

  const form = document.querySelector('form');
  form.addEventListener('submit', handleSubmit);
</script>




<script>
function sendData(data){
var url = 'http://localhost:8080/endstandSend';

var xhr = new XMLHttpRequest();
xhr.open("POST", url);

xhr.setRequestHeader("Accept", "application/json");
xhr.setRequestHeader("Content-Type", "application/json");

xhr.onreadystatechange = function () {
   if (xhr.readyState === 4) {
      console.log(xhr.status);
      console.log(xhr.responseText);
   }};

xhr.send(data);
}
</script>

<script>

var list = [];
function addObject(obj){
	var found = false;
	for(var i = 0; i < vendors.length; i++) {
    if (list[i].Artikel == obj.Artikel) {
        found = true;
        break;
    	}
    }
    if(!found){
		var obj = {
		    'Artikel': obj.Artikel,
		    'Flasche': obj.Flaschen,
		    'Einheit': obj.Einheiten,
		    'BZ': obj.BZ
		}
		list.push(obj);
    }else console.log("already there!")

}
</script>

<script>
document.getElementById("clickMe").onclick = sendData(window.obj);

</script>
  <script>
    var abrechnung = new Vue({
      el: '#Abrechnung',
      data: {
        artikelListe: []
      },
      mounted: function() {
        axios.get('http://12a9fb5.online-server.cloud:443/anfang')
            .then(response => {
              this.artikelListe = response.data;
              console.log(response);
            })
            .catch(error => {
              console.log(error);
            });
      }
    })
  </script>

	
</body>
</html>


 